<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <button id="download">download json</button>
  <script src='../dist/data-tools.js'></script>
  <!-- <script src='../dist/data-tools.min.js'></script> -->
  <script>
    let json = [
      {key1: '1key'},
      {key2: '2key'},
      {key3: '3key'},
      {key4: '4key'},
      {key5: [
        {key6: 'kk6'},
        {key7: [
          {kkk8: 'kk8'},
          {kk9: 'kk9'}
        ]}
      ]}
    ]
    let str =dataTools.Json.stringify(json, true)

    let dom = document.querySelector('#download')
    dom.addEventListener('click', downloadFile(str, 'json', 'json'), false);
    function downloadFile(content, filename, type='txt') {
      return function (e) {
        let contentType = {
          'txt': 'data:text/plain;',
          'json': 'data:application/json'
        }
        let chartset = 'charset=utf-8,'
        var eleLink = document.createElement('a');
        eleLink.download = filename;
        eleLink.style.display = 'none';
        eleLink.href = contentType[type] + chartset + content
        document.body.appendChild(eleLink);
        eleLink.click();
        document.body.removeChild(eleLink);
      }
    }

  </script>
</body>
</html>