!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("core-js/modules/es.array.slice.js"),require("core-js/modules/es.array.index-of.js"),require("core-js/modules/es.object.assign.js"),require("core-js/modules/es.array.is-array.js"),require("core-js/modules/es.date.to-string.js"),require("core-js/modules/es.object.to-string.js"),require("core-js/modules/es.regexp.to-string.js"),require("core-js/modules/es.array.concat.js"),require("core-js/modules/es.function.name.js"),require("core-js/modules/es.regexp.exec.js"),require("core-js/modules/es.string.split.js"),require("core-js/modules/es.object.keys.js"),require("core-js/modules/es.array.filter.js"),require("core-js/modules/es.object.values.js")):"function"==typeof define&&define.amd?define(["core-js/modules/es.array.slice.js","core-js/modules/es.array.index-of.js","core-js/modules/es.object.assign.js","core-js/modules/es.array.is-array.js","core-js/modules/es.date.to-string.js","core-js/modules/es.object.to-string.js","core-js/modules/es.regexp.to-string.js","core-js/modules/es.array.concat.js","core-js/modules/es.function.name.js","core-js/modules/es.regexp.exec.js","core-js/modules/es.string.split.js","core-js/modules/es.object.keys.js","core-js/modules/es.array.filter.js","core-js/modules/es.object.values.js"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).dataTools=e()}(this,function(){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function t(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=i(n);return c(this,r?(t=i(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function u(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||f(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,e){if(t){if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function h(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=f(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,e=function(){};return{s:e,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,i=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){i=!0,s=t},f:function(){try{o||null==n.return||n.return()}finally{if(i)throw s}}}}var e="Interface cannot be invoked with 'new'. ";function n(t){this.methods=t.methods||[],this.props=t.props||[],this.base=t.base||[],this.name=t.name}function p(t){this instanceof p&&k.add(e,"error"),y(t.name)||k.add("Interface expect name.","error");t=new n(t);return v(p.all)||(p.all={}),(p.all[t.name]=t).constructor=p,t}p.extends=function(){for(var t={props:[],methods:[],base:[],name:""},e=0;e<arguments.length;e++){var n=arguments[e];g(n)?t.base.push(n):t.name=n.name||t.name,t.props=b(t.props,n.props),t.methods=b(t.methods,n.methods)}return p(t)},p.ensure=function(t,e){var n=e.props,r=(r=e.methods)||[],s=h(n=n||[]);try{for(s.s();!(o=s.n()).done;){var o=o.value;if(0===o.indexOf("static ")){if(m(t.constructor[o.split(" ")[1]]))return k.add("interface ".concat(e.name," expect prop ").concat(o)),!1}else if(0===o.indexOf("class ")){if(m(t[o.split(" ")[1]]))return k.add("interface ".concat(e.name," expect prop ").concat(o)),!1}else if(m(t[o]))return k.add("interface ".concat(e.name," expect prop ").concat(o)),!1}}catch(t){s.e(t)}finally{s.f()}var i=h(r);try{for(i.s();!(a=i.n()).done;){var a=a.value;if(0===a.indexOf("static ")){if(!j(t.constructor[a.split(" ")[1]]))return k.add("interface ".concat(e.name," expect methods ").concat(a)),!1}else if(0===a.indexOf("class ")){if(!j(t[a.split(" ")[1]]))return k.add("interface ".concat(e.name," expect methods ").concat(a)),!1}else if(!j(t[a]))return k.add("interface ".concat(e.name," expect methods ").concat(a)),!1}}catch(t){i.e(t)}finally{i.f()}return!0};function d(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],t=Object.prototype.toString.apply(t).slice(8,-1).toLowerCase();return t=e?t.charAt(0).toUpperCase()+t.slice(1):t}var y=function(t){return"string"==typeof t&&0<t.length},m=function(t){return void 0===t},j=function(t){return"function"==typeof t},v=function(t){return"[object Object]"===Object.prototype.toString.apply(t)},_=function(t){try{return JSON.stringify(t),!0}catch(t){return!1}},g=function(t){return t.constructor===p},b=function(){switch(d(arguments[0])){case"array":for(var t=[],e=0;e<arguments.length;e++)for(var n=0;n<arguments[e].length;n++)t.indexOf(arguments[e][n])<0&&t.push(arguments[e][n]);break;case"object":t={};for(var r=0;r<arguments.length;r++)Object.assign(t,arguments[r])}return t};var k=new(function(){function t(){r(this,t)}return o(t,[{key:"add",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"danger",n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"console";this.content=t,this.type=e,this.platforms=n,this._dispatch()}},{key:"_dispatch",value:function(){!function(t,e,n){var r=2<arguments.length&&void 0!==n?n:[];if(v(t)){var s=t.header,o=t.tail,n=s+o;return e&&e[n]&&(n=j(e[n])?s+o:s+"Else",j(e[n]))&&e[n].apply(e,u(r))}e&&e[t]&&j([t])&&e[t].apply(e,u(r))}({header:this.platforms,tail:this.type.charAt(0).toUpperCase()+this.type.slice(1)},this)}},{key:"setOptions",value:function(t){t.type&&(this.type=t.type),t.platforms&&(this.platforms=t.platforms)}},{key:"consoleInfo",value:function(){console.log(this.content)}},{key:"consoleDanger",value:function(){console.error(this.content)}},{key:"consoleError",value:function(){throw new Error(this.content)}}]),t}()),x=function(){function e(t){r(this,e),this._data=[],this._length=0,this._max=t||1e5}return o(e,[{key:"pop",value:function(){return this.isEmpty()?(k.add("stack is empty.","error"),!1):(--this._length,this._data[this._length])}},{key:"push",value:function(t){return this.isFull()?(k.add("stack is full. ","error"),!1):(this._data[this._length]=t,this._length+=1,this._length)}},{key:"isEmpty",value:function(){return 0===this._length}},{key:"isFull",value:function(){return this._length>=this._max}},{key:"length",get:function(){return this._length},set:function(t){}},{key:"max",get:function(){return this._max},set:function(t){t<0?this._max=-1:t<this._length&&(this._length=t,this._max=t)}},{key:"top",get:function(){return this.isEmpty()?"stack is empty":this._data[this._length-1]}}]),e}(),w=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(n,x);var e=t(n);function n(t){return r(this,n),e.call(this,t)}return o(n,[{key:"clear",value:function(){}},{key:"join",value:function(){}}]),n}(),O=function(){function n(t,e){r(this,n),this._stack=new x,this._str=t,this._keyNum=0,this._opt=e,this._in="  ",this._newLine="\n"}return o(n,[{key:"options",set:function(t){this._opt=t.opt||this._opt,this._in=t.in||this._in,this._newLine=t._newLine||this._newLine}},{key:"addIn",value:function(t,e,n){n=n||this._in;for(var r=0;r<e;r++)t=n+t;return t}},{key:"getStr",value:function(){for(var t=0;t<this._str.length;t++)if(Object.values(this._opt).indexOf(this._str[t])<0&&Object.keys(this._opt).indexOf(this._str[t])<0)this._stack.push(this._str[t]);else if(this._str[t]in this._opt)this._keyNum++,this._stack.push(this._str[t]),this._stack.push(this._newLine),this._stack.push(this.addIn("",this._keyNum));else{var e=new x;e.push(this._str[t]),this._stack.push(this._newLine),this._stack.push(this.addIn("",this._keyNum-1)),this._keyNum--;for(var n="";;){var r=this._stack.pop();if(e.push(r),r in this._opt){for(;e.length;)n+=e.pop();","===this._str[t+1]?(n=n+","+this._newLine,t++):Object.values(this._opt).indexOf(this._str[t+1])<0&&(n+=this._newLine),n+=this.addIn("",this._keyNum),this._stack.push(n);break}}}return this._stack.pop()}}]),n}();return{Stack:x,Iface:p,Json:function(){function e(t){r(this,e),m(t)||(_(t)||k.add("this is not json","error"),this.data=t)}return o(e,[{key:"deal",value:function(){this.init(),this.filter(),this.update()}},{key:"init",value:function(){}},{key:"filter",value:function(){this.opt.filter&&d(this.filter)}},{key:"update",value:function(){}}],[{key:"stringify",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=2<arguments.length?arguments[2]:void 0;return _(t)?e?(n=n||{"{":"}","[":"]"},new O(JSON.stringify(t),n).getStr()):JSON.stringify(t):"data is not a json"}},{key:"parse",value:function(t){if(!(1<arguments.length&&void 0!==arguments[1]&&arguments[1]))return JSON.parse(t)}}]),e}(),ExStack:w}});
